<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Baseball Player Search</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
#results { border: 1px solid #ccc; max-width: 400px; }
#results div { padding: 5px; cursor: pointer; }
#results div:hover { background-color: #f0f0f0; }
</style>
</head>
<body>
<h1>Baseball Player Search</h1>
<input type="text" id="search" placeholder="Type a player's name..." />
<div id="results"></div>
<script>
const searchInput = document.getElementById('search');
const resultsDiv = document.getElementById('results');

let debounceTimeout;

searchInput.addEventListener('input', function() {
  const query = this.value.trim();
  clearTimeout(debounceTimeout);
  if (query.length === 0) {
    resultsDiv.innerHTML = '';
    return;
  }
  debounceTimeout = setTimeout(() => searchPlayers(query), 300);
});

function searchPlayers(query) {
  fetch(`https://statsapi.mlb.com/api/v1/people/search?name=${encodeURIComponent(query)}&limit=10`)
    .then(response => response.json())
    .then(data => {
      resultsDiv.innerHTML = '';
      if (Array.isArray(data.people)) {
        data.people.forEach(person => {
          const div = document.createElement('div');
          div.textContent = person.fullFMLName || person.fullName;
          div.addEventListener('click', () => {
            searchInput.value = div.textContent;
            resultsDiv.innerHTML = '';
          });
          resultsDiv.appendChild(div);
        });
      }
    })
    .catch(err => console.error(err));
}
</script>
</body>
</html>
